{"numTotalTestSuites":18,"numPassedTestSuites":18,"numFailedTestSuites":0,"numPendingTestSuites":0,"numTotalTests":26,"numPassedTests":26,"numFailedTests":0,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1758458709988,"success":true,"testResults":[{"assertionResults":[{"ancestorTitles":["Ajv request validation"],"fullName":"Ajv request validation returns BAD_INPUT when /critique missing parse_json","status":"passed","title":"returns BAD_INPUT when /critique missing parse_json","duration":114.0607500000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ajv request validation"],"fullName":"Ajv request validation returns 200 when /critique parse_json matches schema","status":"passed","title":"returns 200 when /critique parse_json matches schema","duration":9.659208000000035,"failureMessages":[],"meta":{}}],"startTime":1758458713668,"endTime":1758458713792.6592,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/api-ajv.test.ts"},{"assertionResults":[{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 BLOCKER: missing outcome baseline","status":"passed","title":"BLOCKER: missing outcome baseline","duration":260.7154580000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 BLOCKER: detects simple cycle","status":"passed","title":"BLOCKER: detects simple cycle","duration":24.169125000000122,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 IMPROVEMENT: collider risk detected","status":"passed","title":"IMPROVEMENT: collider risk detected","duration":11.104415999999901,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 IMPROVEMENT: competitor response missing when price decision present","status":"passed","title":"IMPROVEMENT: competitor response missing when price decision present","duration":14.092249999999922,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 OBSERVATION: £99 observation when threshold present","status":"passed","title":"OBSERVATION: £99 observation when threshold present","duration":11.04862500000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 Ordering: BLOCKERS, then IMPROVEMENTS, then OBSERVATIONS","status":"passed","title":"Ordering: BLOCKERS, then IMPROVEMENTS, then OBSERVATIONS","duration":6.579749999999876,"failureMessages":[],"meta":{}}],"startTime":1758458711405,"endTime":1758458711734.5798,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/critique-rules.test.ts"},{"assertionResults":[{"ancestorTitles":["seed determinism"],"fullName":"seed determinism returns identical bytes for 100 identical requests","status":"passed","title":"returns identical bytes for 100 identical requests","duration":1795.258042,"failureMessages":[],"meta":{}},{"ancestorTitles":["seed determinism"],"fullName":"seed determinism cross-process equality for the same input","status":"passed","title":"cross-process equality for the same input","duration":848.0700830000001,"failureMessages":[],"meta":{}}],"startTime":1758458711399,"endTime":1758458714047.07,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/determinism.test.ts"},{"assertionResults":[{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs BAD_INPUT for malformed /critique body","status":"passed","title":"BAD_INPUT for malformed /critique body","duration":235.7387920000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs BLOCKED_CONTENT for sensitive tokens","status":"passed","title":"BLOCKED_CONTENT for sensitive tokens","duration":24.663708999999926,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs TIMEOUT simulated via header (dev-time)","status":"passed","title":"TIMEOUT simulated via header (dev-time)","duration":15.647541000000047,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs RETRYABLE simulated via header (dev-time)","status":"passed","title":"RETRYABLE simulated via header (dev-time)","duration":16.445458000000144,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs INTERNAL simulated via header (dev-time)","status":"passed","title":"INTERNAL simulated via header (dev-time)","duration":17.23854099999994,"failureMessages":[],"meta":{}}],"startTime":1758458711406,"endTime":1758458711726.2385,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/errors.test.ts"},{"assertionResults":[{"ancestorTitles":["Idempotency-Key"],"fullName":"Idempotency-Key replays identical response for same body+key","status":"passed","title":"replays identical response for same body+key","duration":256.23295800000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["Idempotency-Key"],"fullName":"Idempotency-Key returns BAD_INPUT when same key used with different body","status":"passed","title":"returns BAD_INPUT when same key used with different body","duration":29.17487499999993,"failureMessages":[],"meta":{}},{"ancestorTitles":["Idempotency-Key"],"fullName":"Idempotency-Key works for /critique as well","status":"passed","title":"works for /critique as well","duration":17.467916999999943,"failureMessages":[],"meta":{}}],"startTime":1758458711399,"endTime":1758458711702.468,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/idempotency.test.ts"},{"assertionResults":[{"ancestorTitles":["OpenAPI dev-time schema validation (offline)"],"fullName":"OpenAPI dev-time schema validation (offline) validates fixture DraftFlowsResponse against OpenAPI schema (offline)","status":"passed","title":"validates fixture DraftFlowsResponse against OpenAPI schema (offline)","duration":456.9418330000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["OpenAPI dev-time schema validation (offline)"],"fullName":"OpenAPI dev-time schema validation (offline) validates a sample CritiqueResponse against OpenAPI schema (offline)","status":"passed","title":"validates a sample CritiqueResponse against OpenAPI schema (offline)","duration":212.9025829999996,"failureMessages":[],"meta":{}}],"startTime":1758458712286,"endTime":1758458712954.9026,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/openapi-dev.test.ts"},{"assertionResults":[{"ancestorTitles":["OpenAPI strict conformance for /draft-flows"],"fullName":"OpenAPI strict conformance for /draft-flows matches fixture responses exactly and forbids additional properties","status":"passed","title":"matches fixture responses exactly and forbids additional properties","duration":348.95954099999994,"failureMessages":[],"meta":{}}],"startTime":1758458711401,"endTime":1758458711749.9595,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/openapi-strict.test.ts"},{"assertionResults":[{"ancestorTitles":["rate limiting headers and health"],"fullName":"rate limiting headers and health emits X-RateLimit headers on 2xx and Retry-After on 429; health shows metrics","status":"passed","title":"emits X-RateLimit headers on 2xx and Retry-After on 429; health shows metrics","duration":1044.591333,"failureMessages":[],"meta":{}}],"startTime":1758458711406,"endTime":1758458712450.5913,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/rate-limit.test.ts"},{"assertionResults":[{"ancestorTitles":["computeThresholdCrossings"],"fullName":"computeThresholdCrossings detects upward 99 → 114 crossing at 99","status":"passed","title":"detects upward 99 → 114 crossing at 99","duration":1.2637079999999514,"failureMessages":[],"meta":{}},{"ancestorTitles":["computeThresholdCrossings"],"fullName":"computeThresholdCrossings no crossing for 101 → 103","status":"passed","title":"no crossing for 101 → 103","duration":0.28262500000005275,"failureMessages":[],"meta":{}},{"ancestorTitles":["computeThresholdCrossings"],"fullName":"computeThresholdCrossings detects downward 114 → 99 crossing at 99","status":"passed","title":"detects downward 114 → 99 crossing at 99","duration":0.09862500000008367,"failureMessages":[],"meta":{}},{"ancestorTitles":["computeThresholdCrossings"],"fullName":"computeThresholdCrossings supports en-US catalogue and dedupes overlaps","status":"passed","title":"supports en-US catalogue and dedupes overlaps","duration":0.22479199999997945,"failureMessages":[],"meta":{}}],"startTime":1758458713673,"endTime":1758458713675.2827,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/threshold.test.ts"}]}
