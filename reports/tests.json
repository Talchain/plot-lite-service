{"numTotalTestSuites":22,"numPassedTestSuites":22,"numFailedTestSuites":0,"numPendingTestSuites":0,"numTotalTests":28,"numPassedTests":28,"numFailedTests":0,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1758895372505,"success":true,"testResults":[{"assertionResults":[{"ancestorTitles":["Ajv request validation"],"fullName":"Ajv request validation returns BAD_INPUT when /critique missing parse_json","status":"passed","title":"returns BAD_INPUT when /critique missing parse_json","duration":27.317957999999862,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ajv request validation"],"fullName":"Ajv request validation returns 200 when /critique parse_json matches schema","status":"passed","title":"returns 200 when /critique parse_json matches schema","duration":7.438791999999921,"failureMessages":[],"meta":{}}],"startTime":1758895376110,"endTime":1758895376144.4387,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/api-ajv.test.ts"},{"assertionResults":[{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 BLOCKER: missing outcome baseline","status":"passed","title":"BLOCKER: missing outcome baseline","duration":273.6294999999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 BLOCKER: detects simple cycle","status":"passed","title":"BLOCKER: detects simple cycle","duration":17.74045799999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 IMPROVEMENT: collider risk detected","status":"passed","title":"IMPROVEMENT: collider risk detected","duration":13.37583299999983,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 IMPROVEMENT: competitor response missing when price decision present","status":"passed","title":"IMPROVEMENT: competitor response missing when price decision present","duration":5.665707999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 OBSERVATION: £99 observation when threshold present","status":"passed","title":"OBSERVATION: £99 observation when threshold present","duration":6.2533750000000055,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 Ordering: BLOCKERS, then IMPROVEMENTS, then OBSERVATIONS","status":"passed","title":"Ordering: BLOCKERS, then IMPROVEMENTS, then OBSERVATIONS","duration":121.23512499999993,"failureMessages":[],"meta":{}}],"startTime":1758895374097,"endTime":1758895374536.235,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/critique-rules.test.ts"},{"assertionResults":[{"ancestorTitles":["seed determinism"],"fullName":"seed determinism returns identical bytes for 100 identical requests","status":"passed","title":"returns identical bytes for 100 identical requests","duration":1628.2256659999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["seed determinism"],"fullName":"seed determinism cross-process equality for the same input","status":"passed","title":"cross-process equality for the same input","duration":705.827041,"failureMessages":[],"meta":{}}],"startTime":1758895374055,"endTime":1758895376389.8271,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/determinism.test.ts"},{"assertionResults":[{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs BAD_INPUT for malformed /critique body","status":"passed","title":"BAD_INPUT for malformed /critique body","duration":20.204999999999927,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs BLOCKED_CONTENT for sensitive tokens","status":"passed","title":"BLOCKED_CONTENT for sensitive tokens","duration":38.03733299999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs TIMEOUT simulated via header (dev-time)","status":"passed","title":"TIMEOUT simulated via header (dev-time)","duration":11.840041000000156,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs RETRYABLE simulated via header (dev-time)","status":"passed","title":"RETRYABLE simulated via header (dev-time)","duration":5.40341699999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs INTERNAL simulated via header (dev-time)","status":"passed","title":"INTERNAL simulated via header (dev-time)","duration":22.835625000000164,"failureMessages":[],"meta":{}}],"startTime":1758895375926,"endTime":1758895376024.8357,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/errors.test.ts"},{"assertionResults":[{"ancestorTitles":["Idempotency-Key"],"fullName":"Idempotency-Key replays identical response for same body+key","status":"passed","title":"replays identical response for same body+key","duration":210.47325,"failureMessages":[],"meta":{}},{"ancestorTitles":["Idempotency-Key"],"fullName":"Idempotency-Key returns BAD_INPUT when same key used with different body","status":"passed","title":"returns BAD_INPUT when same key used with different body","duration":148.671292,"failureMessages":[],"meta":{}},{"ancestorTitles":["Idempotency-Key"],"fullName":"Idempotency-Key works for /critique as well","status":"passed","title":"works for /critique as well","duration":40.085624999999936,"failureMessages":[],"meta":{}}],"startTime":1758895374084,"endTime":1758895374537.0857,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/idempotency.test.ts"},{"assertionResults":[{"ancestorTitles":["OpenAPI dev-time schema validation (offline)"],"fullName":"OpenAPI dev-time schema validation (offline) validates fixture DraftFlowsResponse against OpenAPI schema (offline)","status":"passed","title":"validates fixture DraftFlowsResponse against OpenAPI schema (offline)","duration":136.04908299999988,"failureMessages":[],"meta":{}},{"ancestorTitles":["OpenAPI dev-time schema validation (offline)"],"fullName":"OpenAPI dev-time schema validation (offline) validates a sample CritiqueResponse against OpenAPI schema (offline)","status":"passed","title":"validates a sample CritiqueResponse against OpenAPI schema (offline)","duration":83.77325000000019,"failureMessages":[],"meta":{}}],"startTime":1758895374576,"endTime":1758895374798.7732,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/openapi-dev.test.ts"},{"assertionResults":[{"ancestorTitles":["OpenAPI strict conformance for /draft-flows"],"fullName":"OpenAPI strict conformance for /draft-flows matches fixture responses exactly and forbids additional properties","status":"passed","title":"matches fixture responses exactly and forbids additional properties","duration":109.42595900000015,"failureMessages":[],"meta":{}}],"startTime":1758895375931,"endTime":1758895376040.426,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/openapi-strict.test.ts"},{"assertionResults":[{"ancestorTitles":["rate limiting headers and health"],"fullName":"rate limiting headers and health emits X-RateLimit headers on 2xx and Retry-After on 429; health shows metrics","status":"passed","title":"emits X-RateLimit headers on 2xx and Retry-After on 429; health shows metrics","duration":1728.3018749999999,"failureMessages":[],"meta":{}}],"startTime":1758895374078,"endTime":1758895375806.3018,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/rate-limit.test.ts"},{"assertionResults":[{"ancestorTitles":["resilience niceties"],"fullName":"resilience niceties health has runtime/caches; X-Request-ID echoed; live and ops snapshot work; TIMEOUT path mapped","status":"passed","title":"health has runtime/caches; X-Request-ID echoed; live and ops snapshot work; TIMEOUT path mapped","duration":1676.3961660000002,"failureMessages":[],"meta":{}}],"startTime":1758895373901,"endTime":1758895375577.3962,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/resilience.test.ts"},{"assertionResults":[{"ancestorTitles":["computeThresholdCrossings"],"fullName":"computeThresholdCrossings detects upward 99 → 114 crossing at 99","status":"passed","title":"detects upward 99 → 114 crossing at 99","duration":1.0845840000000635,"failureMessages":[],"meta":{}},{"ancestorTitles":["computeThresholdCrossings"],"fullName":"computeThresholdCrossings no crossing for 101 → 103","status":"passed","title":"no crossing for 101 → 103","duration":0.2485829999999396,"failureMessages":[],"meta":{}},{"ancestorTitles":["computeThresholdCrossings"],"fullName":"computeThresholdCrossings detects downward 114 → 99 crossing at 99","status":"passed","title":"detects downward 114 → 99 crossing at 99","duration":0.09933399999999892,"failureMessages":[],"meta":{}},{"ancestorTitles":["computeThresholdCrossings"],"fullName":"computeThresholdCrossings supports en-US catalogue and dedupes overlaps","status":"passed","title":"supports en-US catalogue and dedupes overlaps","duration":0.08249999999998181,"failureMessages":[],"meta":{}}],"startTime":1758895376547,"endTime":1758895376548.2485,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/threshold.test.ts"},{"assertionResults":[{"ancestorTitles":["replay telemetry monotonicity"],"fullName":"replay telemetry monotonicity counters only increase and lastTs updates across two replays; /health has replay","status":"passed","title":"counters only increase and lastTs updates across two replays; /health has replay","duration":1686.1664580000001,"failureMessages":[],"meta":{}}],"startTime":1758895373899,"endTime":1758895375585.1665,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/test/engine/replay.telemetry.monotonic.test.ts"}]}
