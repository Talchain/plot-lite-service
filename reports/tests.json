{"level":30,"time":1758486340276,"pid":37096,"hostname":"MacBookAir.net","rate_limit_enabled":true,"ip_burst":3,"ip_sustained_per_min":1,"user_burst":5,"user_sustained_per_min":2,"org_burst":10,"org_sustained_per_min":5,"trust_proxy":false,"msg":"Rate limiting enabled"}
{"level":30,"time":1758486340309,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-1","seed":12345,"msg":"seed received"}
{"level":30,"time":1758486340313,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-2","seed":12345,"msg":"seed received"}
{"level":30,"time":1758486340313,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-3","seed":12345,"msg":"seed received"}
{"level":30,"time":1758486340314,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-4","route":"/draft-flows","statusCode":429,"msg":"request completed"}
{"level":30,"time":1758486340315,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-5","route":"/draft-flows","statusCode":429,"msg":"request completed"}
{"level":30,"time":1758486340323,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-1","route":"/draft-flows","statusCode":200,"durationMs":21.057958,"msg":"request completed"}
{"level":30,"time":1758486340323,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-2","route":"/draft-flows","statusCode":200,"durationMs":0.781583,"msg":"request completed"}
{"level":30,"time":1758486340323,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-3","route":"/draft-flows","statusCode":200,"durationMs":0.433625,"msg":"request completed"}
{"level":30,"time":1758486340325,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-6","route":"/health","statusCode":200,"durationMs":10.028291,"msg":"request completed"}
{"level":30,"time":1758486340369,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-7","route":"/version","statusCode":200,"durationMs":42.00775,"msg":"request completed"}
{"level":30,"time":1758486340369,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-8","route":"/live","statusCode":200,"durationMs":0.182875,"msg":"request completed"}
{"level":30,"time":1758486340371,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-9","route":"/health","statusCode":200,"durationMs":0.5325,"msg":"request completed"}
{"level":30,"time":1758486340405,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-a","route":"/version","statusCode":200,"durationMs":33.187917,"msg":"request completed"}
{"level":30,"time":1758486340406,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-b","route":"/live","statusCode":200,"durationMs":0.233209,"msg":"request completed"}
{"level":30,"time":1758486340407,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-c","route":"/health","statusCode":200,"durationMs":0.292083,"msg":"request completed"}
{"level":30,"time":1758486340447,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-d","route":"/version","statusCode":200,"durationMs":40.496125,"msg":"request completed"}
{"level":30,"time":1758486340448,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-e","route":"/live","statusCode":200,"durationMs":0.145791,"msg":"request completed"}
{"level":30,"time":1758486340448,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-f","route":"/health","statusCode":200,"durationMs":0.15675,"msg":"request completed"}
{"level":30,"time":1758486340502,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-g","route":"/version","statusCode":200,"durationMs":53.427542,"msg":"request completed"}
{"level":30,"time":1758486340502,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-h","route":"/live","statusCode":200,"durationMs":0.069042,"msg":"request completed"}
{"level":30,"time":1758486340502,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-i","route":"/health","statusCode":200,"durationMs":0.171125,"msg":"request completed"}
{"level":30,"time":1758486340539,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-j","route":"/version","statusCode":200,"durationMs":36.181542,"msg":"request completed"}
{"level":30,"time":1758486340539,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-k","route":"/live","statusCode":200,"durationMs":0.130125,"msg":"request completed"}
{"level":30,"time":1758486340540,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-l","route":"/health","statusCode":200,"durationMs":0.152875,"msg":"request completed"}
{"level":30,"time":1758486340578,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-m","route":"/version","statusCode":200,"durationMs":38.180917,"msg":"request completed"}
{"level":30,"time":1758486340579,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-n","route":"/live","statusCode":200,"durationMs":0.511042,"msg":"request completed"}
{"level":30,"time":1758486340580,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-o","route":"/health","statusCode":200,"durationMs":0.184625,"msg":"request completed"}
{"level":30,"time":1758486340633,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-p","route":"/version","statusCode":200,"durationMs":52.605,"msg":"request completed"}
{"level":30,"time":1758486340633,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-q","route":"/live","statusCode":200,"durationMs":0.075292,"msg":"request completed"}
{"level":30,"time":1758486340652,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-r","route":"/health","statusCode":200,"durationMs":1.785417,"msg":"request completed"}
{"level":30,"time":1758486340687,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-s","route":"/version","statusCode":200,"durationMs":29.575125,"msg":"request completed"}
{"level":30,"time":1758486340687,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-t","route":"/live","statusCode":200,"durationMs":0.073125,"msg":"request completed"}
{"level":30,"time":1758486340687,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-u","route":"/health","statusCode":200,"durationMs":0.313833,"msg":"request completed"}
{"level":30,"time":1758486340723,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-v","route":"/version","statusCode":200,"durationMs":34.851375,"msg":"request completed"}
{"level":30,"time":1758486340724,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-w","route":"/live","statusCode":200,"durationMs":0.265875,"msg":"request completed"}
{"level":30,"time":1758486340725,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-x","route":"/health","statusCode":200,"durationMs":0.2505,"msg":"request completed"}
{"level":30,"time":1758486340755,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-y","route":"/version","statusCode":200,"durationMs":29.672708,"msg":"request completed"}
{"level":30,"time":1758486340756,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-z","route":"/live","statusCode":200,"durationMs":0.27025,"msg":"request completed"}
{"level":30,"time":1758486340757,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-10","seed":12345,"msg":"seed received"}
{"level":30,"time":1758486340757,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-10","route":"/draft-flows","statusCode":200,"durationMs":0.491084,"msg":"request completed"}
{"level":30,"time":1758486340759,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-11","seed":12345,"msg":"seed received"}
{"level":30,"time":1758486340759,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-11","route":"/draft-flows","statusCode":200,"durationMs":1.792167,"msg":"request completed"}
{"level":30,"time":1758486340759,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-12","seed":12345,"msg":"seed received"}
{"level":30,"time":1758486340760,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-12","route":"/draft-flows","statusCode":200,"durationMs":0.294958,"msg":"request completed"}
{"level":30,"time":1758486340760,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-13","seed":12345,"msg":"seed received"}
{"level":30,"time":1758486340760,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-13","route":"/draft-flows","statusCode":200,"durationMs":0.451542,"msg":"request completed"}
{"level":30,"time":1758486340761,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-14","seed":12345,"msg":"seed received"}
{"level":30,"time":1758486340761,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-14","route":"/draft-flows","statusCode":200,"durationMs":0.246292,"msg":"request completed"}
{"level":30,"time":1758486340761,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-15","route":"/draft-flows","statusCode":429,"msg":"request completed"}
{"level":30,"time":1758486340834,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-16","route":"/critique","statusCode":200,"durationMs":73.0175,"msg":"request completed"}
{"level":30,"time":1758486340836,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-17","route":"/critique","statusCode":200,"durationMs":1.414166,"msg":"request completed"}
{"level":30,"time":1758486340837,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-18","route":"/critique","statusCode":200,"durationMs":0.373042,"msg":"request completed"}
{"level":30,"time":1758486340837,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-19","route":"/critique","statusCode":200,"durationMs":0.216833,"msg":"request completed"}
{"level":30,"time":1758486340838,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-1a","route":"/critique","statusCode":200,"durationMs":0.627292,"msg":"request completed"}
{"level":30,"time":1758486340839,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-1b","route":"/critique","statusCode":200,"durationMs":0.229708,"msg":"request completed"}
{"level":30,"time":1758486340839,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-1c","route":"/critique","statusCode":200,"durationMs":0.187208,"msg":"request completed"}
{"level":30,"time":1758486340839,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-1d","route":"/critique","statusCode":200,"durationMs":0.16975,"msg":"request completed"}
{"level":30,"time":1758486340840,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-1e","route":"/critique","statusCode":200,"durationMs":0.388625,"msg":"request completed"}
{"level":30,"time":1758486340840,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-1f","route":"/critique","statusCode":200,"durationMs":0.187667,"msg":"request completed"}
{"level":30,"time":1758486340840,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-1g","route":"/critique","statusCode":429,"msg":"request completed"}
{"level":30,"time":1758486340841,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-1h","route":"/improve","statusCode":200,"durationMs":0.149084,"msg":"request completed"}
{"level":30,"time":1758486340841,"pid":37096,"hostname":"MacBookAir.net","reqId":"req-1i","route":"/health","statusCode":200,"durationMs":0.171042,"msg":"request completed"}
{"numTotalTestSuites":38,"numPassedTestSuites":38,"numFailedTestSuites":0,"numPendingTestSuites":0,"numTotalTests":71,"numPassedTests":71,"numFailedTests":0,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1758486339720,"success":true,"testResults":[{"assertionResults":[{"ancestorTitles":["Cache Key Generation","canonicalStringify"],"fullName":"Cache Key Generation canonicalStringify should handle primitives consistently","status":"passed","title":"should handle primitives consistently","duration":0.910583000000031,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","canonicalStringify"],"fullName":"Cache Key Generation canonicalStringify should sort object keys deterministically","status":"passed","title":"should sort object keys deterministically","duration":0.13408299999997553,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","canonicalStringify"],"fullName":"Cache Key Generation canonicalStringify should handle nested objects recursively","status":"passed","title":"should handle nested objects recursively","duration":0.11712499999998727,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","canonicalStringify"],"fullName":"Cache Key Generation canonicalStringify should handle arrays without sorting elements","status":"passed","title":"should handle arrays without sorting elements","duration":0.07175000000000864,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","makeCacheKey"],"fullName":"Cache Key Generation makeCacheKey should generate consistent keys for identical inputs","status":"passed","title":"should generate consistent keys for identical inputs","duration":0.3566250000000082,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","makeCacheKey"],"fullName":"Cache Key Generation makeCacheKey should generate different keys for different inputs","status":"passed","title":"should generate different keys for different inputs","duration":0.35149999999998727,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","makeCacheKey"],"fullName":"Cache Key Generation makeCacheKey should normalize optional fields to null","status":"passed","title":"should normalize optional fields to null","duration":0.0725840000000062,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","makeCacheKey"],"fullName":"Cache Key Generation makeCacheKey should be sensitive to route differences","status":"passed","title":"should be sensitive to route differences","duration":0.07299999999997908,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","makeCacheKey"],"fullName":"Cache Key Generation makeCacheKey should be sensitive to org context","status":"passed","title":"should be sensitive to org context","duration":0.3256250000000023,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","makeCacheKey"],"fullName":"Cache Key Generation makeCacheKey should be sensitive to user context","status":"passed","title":"should be sensitive to user context","duration":0.2143750000000182,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","makeCacheKey"],"fullName":"Cache Key Generation makeCacheKey should include seed in key computation","status":"passed","title":"should include seed in key computation","duration":0.08875000000000455,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","makeCacheKey"],"fullName":"Cache Key Generation makeCacheKey should include templateId in key computation","status":"passed","title":"should include templateId in key computation","duration":0.08037500000000364,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","makeCacheKey"],"fullName":"Cache Key Generation makeCacheKey should include policy in key computation","status":"passed","title":"should include policy in key computation","duration":0.07058299999999917,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","makeCacheTags"],"fullName":"Cache Key Generation makeCacheTags should always include route tag","status":"passed","title":"should always include route tag","duration":0.37012500000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","makeCacheTags"],"fullName":"Cache Key Generation makeCacheTags should include org tag when orgId present","status":"passed","title":"should include org tag when orgId present","duration":0.242999999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","makeCacheTags"],"fullName":"Cache Key Generation makeCacheTags should not include org tag when orgId absent","status":"passed","title":"should not include org tag when orgId absent","duration":0.1483339999999771,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","makeCacheTags"],"fullName":"Cache Key Generation makeCacheTags should handle empty orgId","status":"passed","title":"should handle empty orgId","duration":0.07612499999999045,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","extractKeyFields"],"fullName":"Cache Key Generation extractKeyFields should extract seed when present as number","status":"passed","title":"should extract seed when present as number","duration":0.05370900000002621,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","extractKeyFields"],"fullName":"Cache Key Generation extractKeyFields should ignore seed when not a number","status":"passed","title":"should ignore seed when not a number","duration":0.08833299999997735,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","extractKeyFields"],"fullName":"Cache Key Generation extractKeyFields should extract templateId when present as string","status":"passed","title":"should extract templateId when present as string","duration":0.037041999999985364,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","extractKeyFields"],"fullName":"Cache Key Generation extractKeyFields should ignore templateId when not a string","status":"passed","title":"should ignore templateId when not a string","duration":0.07270899999997482,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","extractKeyFields"],"fullName":"Cache Key Generation extractKeyFields should extract policy when present as string","status":"passed","title":"should extract policy when present as string","duration":0.03633400000001075,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","extractKeyFields"],"fullName":"Cache Key Generation extractKeyFields should ignore policy when not a string","status":"passed","title":"should ignore policy when not a string","duration":0.07175000000000864,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","extractKeyFields"],"fullName":"Cache Key Generation extractKeyFields should extract all valid fields together","status":"passed","title":"should extract all valid fields together","duration":0.1150000000000091,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache Key Generation","extractKeyFields"],"fullName":"Cache Key Generation extractKeyFields should handle null/undefined body gracefully","status":"passed","title":"should handle null/undefined body gracefully","duration":0.11062499999997044,"failureMessages":[],"meta":{}}],"startTime":1758486340831,"endTime":1758486340836.115,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/test/cache-key.test.ts"},{"assertionResults":[{"ancestorTitles":["Cache System","L1 Memory Cache with LRU"],"fullName":"Cache System L1 Memory Cache with LRU should respect max keys limit","status":"passed","title":"should respect max keys limit","duration":5.273834000000022,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache System","L1 Memory Cache with LRU"],"fullName":"Cache System L1 Memory Cache with LRU should implement LRU ordering correctly","status":"passed","title":"should implement LRU ordering correctly","duration":38.058208000000036,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache System","Cache Manager with singleflight"],"fullName":"Cache System Cache Manager with singleflight should prevent duplicate computations","status":"passed","title":"should prevent duplicate computations","duration":12.93912499999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache System","Cache Manager with singleflight"],"fullName":"Cache System Cache Manager with singleflight should return cached values on subsequent calls","status":"passed","title":"should return cached values on subsequent calls","duration":0.3070419999999672,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache System","Cache Manager with singleflight"],"fullName":"Cache System Cache Manager with singleflight should handle computation errors gracefully","status":"passed","title":"should handle computation errors gracefully","duration":0.8082919999999945,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache System","TTL expiration"],"fullName":"Cache System TTL expiration should expire entries after TTL","status":"passed","title":"should expire entries after TTL","duration":102.34495900000002,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache System","Tag-based invalidation"],"fullName":"Cache System Tag-based invalidation should invalidate entries by tag","status":"passed","title":"should invalidate entries by tag","duration":0.7709590000000048,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache System","Tag-based invalidation"],"fullName":"Cache System Tag-based invalidation should clean up empty tag sets","status":"passed","title":"should clean up empty tag sets","duration":0.4494170000000395,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache System","Cache statistics"],"fullName":"Cache System Cache statistics should track hits and misses","status":"passed","title":"should track hits and misses","duration":0.7939170000000217,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache System","Cache statistics"],"fullName":"Cache System Cache statistics should report cache size","status":"passed","title":"should report cache size","duration":0.24108300000000327,"failureMessages":[],"meta":{}},{"ancestorTitles":["Cache System","Cache clearing"],"fullName":"Cache System Cache clearing should clear all entries","status":"passed","title":"should clear all entries","duration":0.2632499999999709,"failureMessages":[],"meta":{}}],"startTime":1758486340093,"endTime":1758486340257.2632,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/test/cache.test.ts"},{"assertionResults":[{"ancestorTitles":["OpenAPI strict validation (live responses)"],"fullName":"OpenAPI strict validation (live responses) validates /draft-flows responses against OpenAPI and forbids additional properties","status":"passed","title":"validates /draft-flows responses against OpenAPI and forbids additional properties","duration":367.00516600000003,"failureMessages":[],"meta":{}}],"startTime":1758486340170,"endTime":1758486340537.0051,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/test/openapi-responses.test.ts"},{"assertionResults":[{"ancestorTitles":["Rate Limiting"],"fullName":"Rate Limiting should allow requests under the limit","status":"passed","title":"should allow requests under the limit","duration":29.878207999999972,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting"],"fullName":"Rate Limiting should rate limit after exceeding IP burst limit","status":"passed","title":"should rate limit after exceeding IP burst limit","duration":3.120208000000048,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting"],"fullName":"Rate Limiting should not rate limit health endpoints","status":"passed","title":"should not rate limit health endpoints","duration":440.910292,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting"],"fullName":"Rate Limiting should use user-level limits when x-user-id header is present","status":"passed","title":"should use user-level limits when x-user-id header is present","duration":4.898707999999942,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting"],"fullName":"Rate Limiting should use org-level limits when x-org-id header is present","status":"passed","title":"should use org-level limits when x-org-id header is present","duration":79.26520800000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting"],"fullName":"Rate Limiting should prioritize org limits over user limits","status":"passed","title":"should prioritize org limits over user limits","duration":0.41241600000012113,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate Limiting"],"fullName":"Rate Limiting should report rate limit status in health endpoint","status":"passed","title":"should report rate limit status in health endpoint","duration":0.4387920000001486,"failureMessages":[],"meta":{}}],"startTime":1758486340282,"endTime":1758486340841.4387,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/test/rate-limit.test.ts"},{"assertionResults":[{"ancestorTitles":["Ajv request validation"],"fullName":"Ajv request validation returns BAD_INPUT when /critique missing parse_json","status":"passed","title":"returns BAD_INPUT when /critique missing parse_json","duration":16.29233400000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ajv request validation"],"fullName":"Ajv request validation returns 200 when /critique parse_json matches schema","status":"passed","title":"returns 200 when /critique parse_json matches schema","duration":17.35933399999999,"failureMessages":[],"meta":{}}],"startTime":1758486340747,"endTime":1758486340781.3594,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/api-ajv.test.ts"},{"assertionResults":[{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 BLOCKER: missing outcome baseline","status":"passed","title":"BLOCKER: missing outcome baseline","duration":17.70504199999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 BLOCKER: detects simple cycle","status":"passed","title":"BLOCKER: detects simple cycle","duration":7.1148750000000405,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 IMPROVEMENT: collider risk detected","status":"passed","title":"IMPROVEMENT: collider risk detected","duration":3.85533300000003,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 IMPROVEMENT: competitor response missing when price decision present","status":"passed","title":"IMPROVEMENT: competitor response missing when price decision present","duration":9.205749999999966,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 OBSERVATION: £99 observation when threshold present","status":"passed","title":"OBSERVATION: £99 observation when threshold present","duration":5.421167000000025,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 Ordering: BLOCKERS, then IMPROVEMENTS, then OBSERVATIONS","status":"passed","title":"Ordering: BLOCKERS, then IMPROVEMENTS, then OBSERVATIONS","duration":3.5475000000000136,"failureMessages":[],"meta":{}}],"startTime":1758486340403,"endTime":1758486340450.5476,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/critique-rules.test.ts"},{"assertionResults":[{"ancestorTitles":["seed determinism"],"fullName":"seed determinism returns identical bytes for 100 identical requests","status":"passed","title":"returns identical bytes for 100 identical requests","duration":308.058958,"failureMessages":[],"meta":{}},{"ancestorTitles":["seed determinism"],"fullName":"seed determinism cross-process equality for the same input","status":"passed","title":"cross-process equality for the same input","duration":259.542833,"failureMessages":[],"meta":{}}],"startTime":1758486340061,"endTime":1758486340628.5427,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/determinism.test.ts"},{"assertionResults":[{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs BAD_INPUT for malformed /critique body","status":"passed","title":"BAD_INPUT for malformed /critique body","duration":12.73554200000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs BLOCKED_CONTENT for sensitive tokens","status":"passed","title":"BLOCKED_CONTENT for sensitive tokens","duration":6.895457999999962,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs TIMEOUT simulated via header (dev-time)","status":"passed","title":"TIMEOUT simulated via header (dev-time)","duration":3.617958999999985,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs RETRYABLE simulated via header (dev-time)","status":"passed","title":"RETRYABLE simulated via header (dev-time)","duration":1.7937090000000353,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs INTERNAL simulated via header (dev-time)","status":"passed","title":"INTERNAL simulated via header (dev-time)","duration":1.9435000000000286,"failureMessages":[],"meta":{}}],"startTime":1758486340667,"endTime":1758486340693.9436,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/errors.test.ts"},{"assertionResults":[{"ancestorTitles":["Idempotency-Key"],"fullName":"Idempotency-Key replays identical response for same body+key","status":"passed","title":"replays identical response for same body+key","duration":17.74683299999998,"failureMessages":[],"meta":{}},{"ancestorTitles":["Idempotency-Key"],"fullName":"Idempotency-Key returns BAD_INPUT when same key used with different body","status":"passed","title":"returns BAD_INPUT when same key used with different body","duration":21.098457999999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["Idempotency-Key"],"fullName":"Idempotency-Key works for /critique as well","status":"passed","title":"works for /critique as well","duration":19.40841599999999,"failureMessages":[],"meta":{}}],"startTime":1758486340040,"endTime":1758486340098.4084,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/idempotency.test.ts"},{"assertionResults":[{"ancestorTitles":["OpenAPI dev-time schema validation (offline)"],"fullName":"OpenAPI dev-time schema validation (offline) validates fixture DraftFlowsResponse against OpenAPI schema (offline)","status":"passed","title":"validates fixture DraftFlowsResponse against OpenAPI schema (offline)","duration":57.18633299999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["OpenAPI dev-time schema validation (offline)"],"fullName":"OpenAPI dev-time schema validation (offline) validates a sample CritiqueResponse against OpenAPI schema (offline)","status":"passed","title":"validates a sample CritiqueResponse against OpenAPI schema (offline)","duration":11.274000000000001,"failureMessages":[],"meta":{}}],"startTime":1758486340771,"endTime":1758486340839.274,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/openapi-dev.test.ts"},{"assertionResults":[{"ancestorTitles":["OpenAPI strict conformance for /draft-flows"],"fullName":"OpenAPI strict conformance for /draft-flows matches fixture responses exactly and forbids additional properties","status":"passed","title":"matches fixture responses exactly and forbids additional properties","duration":49.72591700000004,"failureMessages":[],"meta":{}}],"startTime":1758486340572,"endTime":1758486340621.7258,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/openapi-strict.test.ts"},{"assertionResults":[{"ancestorTitles":["rate limiting headers and health"],"fullName":"rate limiting headers and health emits X-RateLimit headers on 2xx and Retry-After on 429; health shows metrics","status":"passed","title":"emits X-RateLimit headers on 2xx and Retry-After on 429; health shows metrics","duration":288.65254100000004,"failureMessages":[],"meta":{}}],"startTime":1758486340069,"endTime":1758486340357.6526,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/rate-limit.test.ts"},{"assertionResults":[{"ancestorTitles":["resilience niceties"],"fullName":"resilience niceties health has runtime/caches; X-Request-ID echoed; live and ops snapshot work; TIMEOUT path mapped","status":"passed","title":"health has runtime/caches; X-Request-ID echoed; live and ops snapshot work; TIMEOUT path mapped","duration":279.44120799999996,"failureMessages":[],"meta":{}}],"startTime":1758486340039,"endTime":1758486340318.4412,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/resilience.test.ts"},{"assertionResults":[{"ancestorTitles":["computeThresholdCrossings"],"fullName":"computeThresholdCrossings detects upward 99 → 114 crossing at 99","status":"passed","title":"detects upward 99 → 114 crossing at 99","duration":0.7578330000000051,"failureMessages":[],"meta":{}},{"ancestorTitles":["computeThresholdCrossings"],"fullName":"computeThresholdCrossings no crossing for 101 → 103","status":"passed","title":"no crossing for 101 → 103","duration":0.28616700000000606,"failureMessages":[],"meta":{}},{"ancestorTitles":["computeThresholdCrossings"],"fullName":"computeThresholdCrossings detects downward 114 → 99 crossing at 99","status":"passed","title":"detects downward 114 → 99 crossing at 99","duration":0.14712500000001683,"failureMessages":[],"meta":{}},{"ancestorTitles":["computeThresholdCrossings"],"fullName":"computeThresholdCrossings supports en-US catalogue and dedupes overlaps","status":"passed","title":"supports en-US catalogue and dedupes overlaps","duration":0.09620899999998755,"failureMessages":[],"meta":{}}],"startTime":1758486340901,"endTime":1758486340902.1472,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/threshold.test.ts"}]}
