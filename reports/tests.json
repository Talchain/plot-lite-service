{"level":30,"time":1759059443927,"pid":10519,"hostname":"MacBookAir.net","reqId":"req-1","route":"/draft-flows","statusCode":200,"durationMs":5.072708,"msg":"request completed"}
{"level":30,"time":1759059444866,"pid":10540,"hostname":"MacBookAir.net","reqId":"req-1","route":"/draft-flows","statusCode":200,"durationMs":2.288083,"msg":"request completed"}
{"level":30,"time":1759059444866,"pid":10540,"hostname":"MacBookAir.net","reqId":"req-2","route":"/draft-flows","statusCode":200,"durationMs":0.538875,"msg":"request completed"}
{"level":30,"time":1759059444866,"pid":10540,"hostname":"MacBookAir.net","reqId":"req-3","route":"/draft-flows","statusCode":304,"durationMs":0.247916,"msg":"request completed"}
{"level":30,"time":1759059444866,"pid":10540,"hostname":"MacBookAir.net","reqId":"req-4","route":"/draft-flows","statusCode":400,"durationMs":0.476708,"msg":"request completed"}
{"level":30,"time":1759059444866,"pid":10540,"hostname":"MacBookAir.net","reqId":"req-5","route":"/draft-flows","statusCode":404,"durationMs":0.220208,"msg":"request completed"}
{"level":30,"time":1759059444866,"pid":10540,"hostname":"MacBookAir.net","reqId":"req-6","route":"/draft-flows","statusCode":200,"durationMs":0.110167,"msg":"request completed"}
{"level":30,"time":1759059444866,"pid":10540,"hostname":"MacBookAir.net","reqId":"req-7","route":"/draft-flows","statusCode":200,"durationMs":0.264292,"msg":"request completed"}
{"level":30,"time":1759059444869,"pid":10539,"hostname":"MacBookAir.net","reqId":"req-1","route":"/draft-flows","statusCode":404,"durationMs":2.539542,"msg":"request completed"}
{"level":30,"time":1759059444872,"pid":10539,"hostname":"MacBookAir.net","reqId":"req-2","route":"/draft-flows","statusCode":200,"durationMs":0.545083,"msg":"request completed"}
{"level":30,"time":1759059444879,"pid":10539,"hostname":"MacBookAir.net","reqId":"req-3","route":"/draft-flows","statusCode":200,"durationMs":0.596458,"msg":"request completed"}
{"level":30,"time":1759059444884,"pid":10539,"hostname":"MacBookAir.net","reqId":"req-4","route":"/draft-flows","statusCode":200,"durationMs":3.273,"msg":"request completed"}
{"level":30,"time":1759059444886,"pid":10539,"hostname":"MacBookAir.net","reqId":"req-5","route":"/draft-flows","statusCode":200,"durationMs":0.297167,"msg":"request completed"}
{"level":30,"time":1759059444895,"pid":10539,"hostname":"MacBookAir.net","reqId":"req-6","route":"/draft-flows","statusCode":200,"durationMs":0.325084,"msg":"request completed"}
{"level":30,"time":1759059444896,"pid":10539,"hostname":"MacBookAir.net","reqId":"req-7","route":"/draft-flows","statusCode":304,"durationMs":0.136,"msg":"request completed"}
{"level":30,"time":1759059444897,"pid":10539,"hostname":"MacBookAir.net","reqId":"req-8","route":"/draft-flows","statusCode":400,"durationMs":0.146,"msg":"request completed"}
{"level":30,"time":1759059444901,"pid":10539,"hostname":"MacBookAir.net","reqId":"req-9","route":"/draft-flows","statusCode":404,"durationMs":2.170459,"msg":"request completed"}
{"level":30,"time":1759059445494,"pid":10555,"hostname":"MacBookAir.net","reqId":"req-1","route":"/health","statusCode":200,"durationMs":6.48,"msg":"request completed"}
{"numTotalTestSuites":66,"numPassedTestSuites":64,"numFailedTestSuites":2,"numPendingTestSuites":0,"numTotalTests":70,"numPassedTests":69,"numFailedTests":1,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":1,"total":1,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1759059437379,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Contracts: SSE event schema"],"fullName":"Contracts: SSE event schema emits events from the final set","status":"failed","title":"emits events from the final set","duration":32.08970799999997,"failureMessages":["TypeError: fetch failed\n    at node:internal/deps/undici/undici:13510:13\n    at /Users/paulslee/Documents/GitHub/plot-lite-service/tests/contracts.events.schema.test.ts:48:17\n    at file:///Users/paulslee/Documents/GitHub/plot-lite-service/node_modules/@vitest/runner/dist/chunk-hooks.js:752:20"],"meta":{}}],"startTime":1759059443464,"endTime":1759059443496.0896,"status":"failed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/tests/contracts.events.schema.test.ts"},{"assertionResults":[{"ancestorTitles":["Contracts: health shape"],"fullName":"Contracts: health shape exposes minimal shape and required keys","status":"passed","title":"exposes minimal shape and required keys","duration":7.494999999999891,"failureMessages":[],"meta":{}}],"startTime":1759059443987,"endTime":1759059443994.495,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/tests/contracts.health.shape.test.ts"},{"assertionResults":[{"ancestorTitles":["Contracts: Report v1 schema"],"fullName":"Contracts: Report v1 schema GET /draft-flows returns schema:\"report.v1\" and meta.seed","status":"passed","title":"GET /draft-flows returns schema:\"report.v1\" and meta.seed","duration":11.538084000000026,"failureMessages":[],"meta":{}}],"startTime":1759059443651,"endTime":1759059443662.538,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/tests/contracts.report.schema.test.ts"},{"assertionResults":[{"ancestorTitles":["Error taxonomy: stable types and catalogue phrases"],"fullName":"Error taxonomy: stable types and catalogue phrases INVALID_TEMPLATE → 404 BAD_INPUT with catalogue phrase","status":"passed","title":"INVALID_TEMPLATE → 404 BAD_INPUT with catalogue phrase","duration":12.203708000000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy: stable types and catalogue phrases"],"fullName":"Error taxonomy: stable types and catalogue phrases INVALID_SEED → 404 BAD_INPUT with catalogue phrase","status":"passed","title":"INVALID_SEED → 404 BAD_INPUT with catalogue phrase","duration":12.952457999999979,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy: stable types and catalogue phrases"],"fullName":"Error taxonomy: stable types and catalogue phrases BAD_QUERY_PARAMS → 400 BAD_INPUT with catalogue phrase","status":"passed","title":"BAD_QUERY_PARAMS → 400 BAD_INPUT with catalogue phrase","duration":11.866416999999956,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy: stable types and catalogue phrases"],"fullName":"Error taxonomy: stable types and catalogue phrases TIMEOUT → 504 with catalogue phrase","status":"passed","title":"TIMEOUT → 504 with catalogue phrase","duration":57.904583,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy: stable types and catalogue phrases"],"fullName":"Error taxonomy: stable types and catalogue phrases RETRYABLE → 503 with catalogue phrase and retryable=true","status":"passed","title":"RETRYABLE → 503 with catalogue phrase and retryable=true","duration":12.151207999999997,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy: stable types and catalogue phrases"],"fullName":"Error taxonomy: stable types and catalogue phrases INTERNAL → 500 with generic phrase (no stack)","status":"passed","title":"INTERNAL → 500 with generic phrase (no stack)","duration":15.492999999999938,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy: stable types and catalogue phrases"],"fullName":"Error taxonomy: stable types and catalogue phrases RATE_LIMIT → 429 with Retry-After and catalogue phrase","status":"passed","title":"RATE_LIMIT → 429 with Retry-After and catalogue phrase","duration":1514.9687089999998,"failureMessages":[],"meta":{}}],"startTime":1759059439007,"endTime":1759059440648.9688,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/tests/error.taxonomy.test.ts"},{"assertionResults":[{"ancestorTitles":["Caching: ETag/304 and HEAD parity"],"fullName":"Caching: ETag/304 and HEAD parity GET 200 -> GET 304 via If-None-Match; HEAD mirrors ETag/Vary","status":"passed","title":"GET 200 -> GET 304 via If-None-Match; HEAD mirrors ETag/Vary","duration":136.64316699999972,"failureMessages":[],"meta":{}}],"startTime":1759059442547,"endTime":1759059442683.643,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/tests/etag.head.parity.test.ts"},{"assertionResults":[{"ancestorTitles":["Streaming: limited event under pressure"],"fullName":"Streaming: limited event under pressure emits limited event and closes","status":"passed","title":"emits limited event and closes","duration":13.566832999999974,"failureMessages":[],"meta":{}}],"startTime":1759059443881,"endTime":1759059443894.567,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/tests/limited-event.test.ts"},{"assertionResults":[{"ancestorTitles":["Perf/limits: 429 with Retry-After"],"fullName":"Perf/limits: 429 with Retry-After 429 includes Retry-After within a sane bound","status":"passed","title":"429 includes Retry-After within a sane bound","duration":17.107958000000053,"failureMessages":[],"meta":{}}],"startTime":1759059442869,"endTime":1759059442886.108,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/tests/perf.rate-limit.test.ts"},{"assertionResults":[{"ancestorTitles":["Security headers + prod test routes guard"],"fullName":"Security headers + prod test routes guard GET /draft-flows carries security headers","status":"passed","title":"GET /draft-flows carries security headers","duration":24.85429099999999,"failureMessages":[],"meta":{}}],"startTime":1759059443837,"endTime":1759059443861.8542,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/tests/security.headers.test.ts"},{"assertionResults":[{"ancestorTitles":["Security: no payload or query-string logging"],"fullName":"Security: no payload or query-string logging does not log query strings or obvious payload tokens","status":"passed","title":"does not log query strings or obvious payload tokens","duration":278.80174999999986,"failureMessages":[],"meta":{}}],"startTime":1759059438948,"endTime":1759059439226.8018,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/tests/security.no-logging.test.ts"},{"assertionResults":[{"ancestorTitles":["Security: prod guard for test routes"],"fullName":"Security: prod guard for test routes fails fast when TEST_ROUTES=1 and NODE_ENV=production","status":"passed","title":"fails fast when TEST_ROUTES=1 and NODE_ENV=production","duration":326.173333,"failureMessages":[],"meta":{}}],"startTime":1759059444078,"endTime":1759059444404.1733,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/tests/security.prod-guard.test.ts"},{"assertionResults":[{"ancestorTitles":["Stream: cancel idempotency"],"fullName":"Stream: cancel idempotency pre-token cancel emits cancelled and closes; second cancel is no-op","status":"passed","title":"pre-token cancel emits cancelled and closes; second cancel is no-op","duration":26.79208400000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["Stream: cancel idempotency"],"fullName":"Stream: cancel idempotency mid-stream cancel emits cancelled once","status":"passed","title":"mid-stream cancel emits cancelled once","duration":54.24033300000019,"failureMessages":[],"meta":{}}],"startTime":1759059441972,"endTime":1759059442053.2402,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/tests/stream.cancel.test.ts"},{"assertionResults":[{"ancestorTitles":["Stream: resume once on single blip; no dupes"],"fullName":"Stream: resume once on single blip; no dupes reconnects once after blip with Last-Event-ID, no dupes","status":"passed","title":"reconnects once after blip with Last-Event-ID, no dupes","duration":25.511708,"failureMessages":[],"meta":{}}],"startTime":1759059442808,"endTime":1759059442833.5117,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/tests/stream.resume.test.ts"},{"assertionResults":[{"ancestorTitles":["replay telemetry monotonicity"],"fullName":"replay telemetry monotonicity counters only increase and lastTs updates across two replays; /health has replay","status":"passed","title":"counters only increase and lastTs updates across two replays; /health has replay","duration":748.8844169999999,"failureMessages":[],"meta":{}}],"startTime":1759059438177,"endTime":1759059438925.8845,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/test/engine/replay.telemetry.monotonic.test.ts"},{"assertionResults":[{"ancestorTitles":["Ajv request validation"],"fullName":"Ajv request validation returns BAD_INPUT when /critique missing parse_json","status":"passed","title":"returns BAD_INPUT when /critique missing parse_json","duration":80.92158300000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["Ajv request validation"],"fullName":"Ajv request validation returns 200 when /critique parse_json matches schema","status":"passed","title":"returns 200 when /critique parse_json matches schema","duration":23.147290999999996,"failureMessages":[],"meta":{}}],"startTime":1759059444678,"endTime":1759059444782.1472,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/api-ajv.test.ts"},{"assertionResults":[{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 BLOCKER: missing outcome baseline","status":"passed","title":"BLOCKER: missing outcome baseline","duration":29.933208000000036,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 BLOCKER: detects simple cycle","status":"passed","title":"BLOCKER: detects simple cycle","duration":26.281749999999988,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 IMPROVEMENT: collider risk detected","status":"passed","title":"IMPROVEMENT: collider risk detected","duration":7.00420900000006,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 IMPROVEMENT: competitor response missing when price decision present","status":"passed","title":"IMPROVEMENT: competitor response missing when price decision present","duration":21.214417000000026,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 OBSERVATION: £99 observation when threshold present","status":"passed","title":"OBSERVATION: £99 observation when threshold present","duration":27.942499999999995,"failureMessages":[],"meta":{}},{"ancestorTitles":["critique rules v1.1"],"fullName":"critique rules v1.1 Ordering: BLOCKERS, then IMPROVEMENTS, then OBSERVATIONS","status":"passed","title":"Ordering: BLOCKERS, then IMPROVEMENTS, then OBSERVATIONS","duration":7.9012500000000045,"failureMessages":[],"meta":{}}],"startTime":1759059444240,"endTime":1759059444361.9014,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/critique-rules.test.ts"},{"assertionResults":[{"ancestorTitles":["seed determinism"],"fullName":"seed determinism returns identical bytes for 100 identical requests","status":"passed","title":"returns identical bytes for 100 identical requests","duration":694.8437090000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["seed determinism"],"fullName":"seed determinism cross-process equality for the same input","status":"passed","title":"cross-process equality for the same input","duration":1262.475959,"failureMessages":[],"meta":{}}],"startTime":1759059438178,"endTime":1759059440135.476,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/determinism.test.ts"},{"assertionResults":[{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs BAD_INPUT for malformed /critique body","status":"passed","title":"BAD_INPUT for malformed /critique body","duration":21.77812499999999,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs BLOCKED_CONTENT for sensitive tokens","status":"passed","title":"BLOCKED_CONTENT for sensitive tokens","duration":19.01170899999994,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs TIMEOUT simulated via header (dev-time)","status":"passed","title":"TIMEOUT simulated via header (dev-time)","duration":10.22904200000005,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs RETRYABLE simulated via header (dev-time)","status":"passed","title":"RETRYABLE simulated via header (dev-time)","duration":4.803125000000023,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error taxonomy proofs"],"fullName":"Error taxonomy proofs INTERNAL simulated via header (dev-time)","status":"passed","title":"INTERNAL simulated via header (dev-time)","duration":7.714542000000051,"failureMessages":[],"meta":{}}],"startTime":1759059444042,"endTime":1759059444105.7146,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/errors.test.ts"},{"assertionResults":[{"ancestorTitles":["GET /draft-flows deterministic fixtures"],"fullName":"GET /draft-flows deterministic fixtures invalid template returns 404 and catalogue phrase","status":"passed","title":"invalid template returns 404 and catalogue phrase","duration":32.440292,"failureMessages":[],"meta":{}},{"ancestorTitles":["GET /draft-flows deterministic fixtures"],"fullName":"GET /draft-flows deterministic fixtures serves pre-serialized bytes equal to on-disk fixture files","status":"passed","title":"serves pre-serialized bytes equal to on-disk fixture files","duration":26.180666000000087,"failureMessages":[],"meta":{}},{"ancestorTitles":["GET /draft-flows deterministic fixtures"],"fullName":"GET /draft-flows deterministic fixtures ETag round-trip returns 304 when If-None-Match matches","status":"passed","title":"ETag round-trip returns 304 when If-None-Match matches","duration":7.940916000000016,"failureMessages":[],"meta":{}},{"ancestorTitles":["GET /draft-flows deterministic fixtures"],"fullName":"GET /draft-flows deterministic fixtures 400 vs 404 semantics for query validation","status":"passed","title":"400 vs 404 semantics for query validation","duration":5.72037499999999,"failureMessages":[],"meta":{}}],"startTime":1759059444829,"endTime":1759059444901.7205,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/get-draft-flows.golden.test.ts"},{"assertionResults":[{"ancestorTitles":["HEAD /draft-flows headers and 304"],"fullName":"HEAD /draft-flows headers and 304 returns 200 with headers on HEAD","status":"passed","title":"returns 200 with headers on HEAD","duration":21.161499999999933,"failureMessages":[],"meta":{}},{"ancestorTitles":["HEAD /draft-flows headers and 304"],"fullName":"HEAD /draft-flows headers and 304 returns 304 when If-None-Match matches","status":"passed","title":"returns 304 when If-None-Match matches","duration":2.074958000000038,"failureMessages":[],"meta":{}},{"ancestorTitles":["HEAD /draft-flows headers and 304"],"fullName":"HEAD /draft-flows headers and 304 returns 400 for bad query params (invalid seed type)","status":"passed","title":"returns 400 for bad query params (invalid seed type)","duration":1.0163330000000315,"failureMessages":[],"meta":{}},{"ancestorTitles":["HEAD /draft-flows headers and 304"],"fullName":"HEAD /draft-flows headers and 304 returns 404 for unknown fixture","status":"passed","title":"returns 404 for unknown fixture","duration":0.7449579999999969,"failureMessages":[],"meta":{}},{"ancestorTitles":["HEAD /draft-flows headers and 304"],"fullName":"HEAD /draft-flows headers and 304 allows invoking HEAD twice without duplicate route issues","status":"passed","title":"allows invoking HEAD twice without duplicate route issues","duration":1.1391670000000431,"failureMessages":[],"meta":{}}],"startTime":1759059444835,"endTime":1759059444861.1392,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/head-draft-flows.test.ts"},{"assertionResults":[{"ancestorTitles":["GET /health contract and size"],"fullName":"GET /health contract and size includes required keys and types, and payload <= 4 KB","status":"passed","title":"includes required keys and types, and payload <= 4 KB","duration":39.12629100000004,"failureMessages":[],"meta":{}}],"startTime":1759059445456,"endTime":1759059445495.1262,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/health.contract.test.ts"},{"assertionResults":[{"ancestorTitles":["Idempotency-Key"],"fullName":"Idempotency-Key replays identical response for same body+key","status":"passed","title":"replays identical response for same body+key","duration":167.50925,"failureMessages":[],"meta":{}},{"ancestorTitles":["Idempotency-Key"],"fullName":"Idempotency-Key returns BAD_INPUT when same key used with different body","status":"passed","title":"returns BAD_INPUT when same key used with different body","duration":13.740584000000013,"failureMessages":[],"meta":{}},{"ancestorTitles":["Idempotency-Key"],"fullName":"Idempotency-Key works for /critique as well","status":"passed","title":"works for /critique as well","duration":12.789709000000016,"failureMessages":[],"meta":{}}],"startTime":1759059444853,"endTime":1759059445047.7898,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/idempotency.test.ts"},{"assertionResults":[{"ancestorTitles":["loadcheck programmatic probe (smoke)"],"fullName":"loadcheck programmatic probe (smoke) returns p95_ms number and no non2xx for deterministic GET","status":"passed","title":"returns p95_ms number and no non2xx for deterministic GET","duration":4737.235541,"failureMessages":[],"meta":{}}],"startTime":1759059438178,"endTime":1759059442915.2356,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/loadcheck.probe.smoke.test.ts"},{"assertionResults":[{"ancestorTitles":["no payload logging: legacy POST /draft-flows does not log body tokens"],"fullName":"no payload logging: legacy POST /draft-flows does not log body tokens does not emit token-like string to logs","status":"passed","title":"does not emit token-like string to logs","duration":1771.01125,"failureMessages":[],"meta":{}}],"startTime":1759059440143,"endTime":1759059441914.0112,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/no-payload-logging.test.ts"},{"assertionResults":[{"ancestorTitles":["OpenAPI dev-time schema validation (offline)"],"fullName":"OpenAPI dev-time schema validation (offline) validates fixture DraftFlowsResponse against OpenAPI schema (offline)","status":"passed","title":"validates fixture DraftFlowsResponse against OpenAPI schema (offline)","duration":154.9585840000001,"failureMessages":[],"meta":{}},{"ancestorTitles":["OpenAPI dev-time schema validation (offline)"],"fullName":"OpenAPI dev-time schema validation (offline) validates a sample CritiqueResponse against OpenAPI schema (offline)","status":"passed","title":"validates a sample CritiqueResponse against OpenAPI schema (offline)","duration":24.77254199999993,"failureMessages":[],"meta":{}}],"startTime":1759059444649,"endTime":1759059444829.7725,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/openapi-dev.test.ts"},{"assertionResults":[{"ancestorTitles":["OpenAPI strict conformance for /draft-flows"],"fullName":"OpenAPI strict conformance for /draft-flows matches fixture responses exactly and forbids additional properties","status":"passed","title":"matches fixture responses exactly and forbids additional properties","duration":150.41341699999998,"failureMessages":[],"meta":{}}],"startTime":1759059444868,"endTime":1759059445018.4133,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/openapi-strict.test.ts"},{"assertionResults":[{"ancestorTitles":["Production guard refuses to start with TEST_ROUTES=1"],"fullName":"Production guard refuses to start with TEST_ROUTES=1 prints exact line and exits non-zero","status":"passed","title":"prints exact line and exits non-zero","duration":397.683708,"failureMessages":[],"meta":{}}],"startTime":1759059444601,"endTime":1759059444998.6836,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/prod-guard.test.ts"},{"assertionResults":[{"ancestorTitles":["rate limiting headers and health"],"fullName":"rate limiting headers and health emits X-RateLimit headers on 2xx and Retry-After on 429; health shows metrics","status":"passed","title":"emits X-RateLimit headers on 2xx and Retry-After on 429; health shows metrics","duration":1195.9803749999999,"failureMessages":[],"meta":{}}],"startTime":1759059441062,"endTime":1759059442257.9805,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/rate-limit.test.ts"},{"assertionResults":[{"ancestorTitles":["ready endpoint and cache-control header"],"fullName":"ready endpoint and cache-control header GET /ready returns 200 when server is ready; GET /draft-flows sends Cache-Control: no-cache","status":"passed","title":"GET /ready returns 200 when server is ready; GET /draft-flows sends Cache-Control: no-cache","duration":609.4173330000001,"failureMessages":[],"meta":{}}],"startTime":1759059442869,"endTime":1759059443478.4172,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/ready.endpoint.test.ts"},{"assertionResults":[{"ancestorTitles":["resilience niceties"],"fullName":"resilience niceties health has runtime/caches; X-Request-ID echoed; live and ops snapshot work; TIMEOUT path mapped","status":"passed","title":"health has runtime/caches; X-Request-ID echoed; live and ops snapshot work; TIMEOUT path mapped","duration":1188.61775,"failureMessages":[],"meta":{}}],"startTime":1759059438179,"endTime":1759059439367.6177,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/resilience.test.ts"},{"assertionResults":[{"ancestorTitles":["report.v1 schema validation"],"fullName":"report.v1 schema validation fixtures conform to schema","status":"passed","title":"fixtures conform to schema","duration":1.6877920000001723,"failureMessages":[],"meta":{}},{"ancestorTitles":["report.v1 schema validation"],"fullName":"report.v1 schema validation GET /draft-flows responses conform to schema","status":"passed","title":"GET /draft-flows responses conform to schema","duration":29.629042000000027,"failureMessages":[],"meta":{}}],"startTime":1759059443851,"endTime":1759059443882.6292,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/schema.report.v1.test.ts"},{"assertionResults":[{"ancestorTitles":["Rate limit and timeout taxonomy shapes"],"fullName":"Rate limit and timeout taxonomy shapes returns 429 with RATE_LIMIT type and X-RateLimit-Reset header","status":"passed","title":"returns 429 with RATE_LIMIT type and X-RateLimit-Reset header","duration":112.52029100000004,"failureMessages":[],"meta":{}},{"ancestorTitles":["Rate limit and timeout taxonomy shapes"],"fullName":"Rate limit and timeout taxonomy shapes maps TIMEOUT to 504 via forced header on GET /draft-flows","status":"passed","title":"maps TIMEOUT to 504 via forced header on GET /draft-flows","duration":1456.4052089999998,"failureMessages":[],"meta":{}}],"startTime":1759059439004,"endTime":1759059440573.4053,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/taxonomy.minimal.test.ts"},{"assertionResults":[{"ancestorTitles":["computeThresholdCrossings"],"fullName":"computeThresholdCrossings detects upward 99 → 114 crossing at 99","status":"passed","title":"detects upward 99 → 114 crossing at 99","duration":1.4580829999999878,"failureMessages":[],"meta":{}},{"ancestorTitles":["computeThresholdCrossings"],"fullName":"computeThresholdCrossings no crossing for 101 → 103","status":"passed","title":"no crossing for 101 → 103","duration":0.33912499999996726,"failureMessages":[],"meta":{}},{"ancestorTitles":["computeThresholdCrossings"],"fullName":"computeThresholdCrossings detects downward 114 → 99 crossing at 99","status":"passed","title":"detects downward 114 → 99 crossing at 99","duration":0.11912499999999682,"failureMessages":[],"meta":{}},{"ancestorTitles":["computeThresholdCrossings"],"fullName":"computeThresholdCrossings supports en-US catalogue and dedupes overlaps","status":"passed","title":"supports en-US catalogue and dedupes overlaps","duration":0.09454099999999244,"failureMessages":[],"meta":{}}],"startTime":1759059445319,"endTime":1759059445321.339,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/lib/__tests__/threshold.test.ts"},{"assertionResults":[{"ancestorTitles":["Error Message Catalogue"],"fullName":"Error Message Catalogue maps BAD_INPUT (generic schema) to legacy phrase","status":"passed","title":"maps BAD_INPUT (generic schema) to legacy phrase","duration":1.0191659999999843,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Message Catalogue"],"fullName":"Error Message Catalogue maps BAD_INPUT with explicit key to that phrase","status":"passed","title":"maps BAD_INPUT with explicit key to that phrase","duration":0.21287499999999682,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Message Catalogue"],"fullName":"Error Message Catalogue maps RATE_LIMIT to legacy RPM phrase","status":"passed","title":"maps RATE_LIMIT to legacy RPM phrase","duration":0.08258299999999963,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Message Catalogue"],"fullName":"Error Message Catalogue maps INVALID_TEMPLATE to 404 with the legacy phrase","status":"passed","title":"maps INVALID_TEMPLATE to 404 with the legacy phrase","duration":0.1742079999999646,"failureMessages":[],"meta":{}},{"ancestorTitles":["Error Message Catalogue"],"fullName":"Error Message Catalogue preserves taxonomy and status expectations at call sites (example snapshot)","status":"passed","title":"preserves taxonomy and status expectations at call sites (example snapshot)","duration":6.044332999999995,"failureMessages":[],"meta":{}}],"startTime":1759059445308,"endTime":1759059445315.0444,"status":"passed","message":"","name":"/Users/paulslee/Documents/GitHub/plot-lite-service/tests/contracts/error-messages.catalogue.test.ts"}]}
